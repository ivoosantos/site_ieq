@page "/Sobre"
@using System.Net.Http.Json
@using SiteCRM.FrontEnd.Models
@inject HttpClient http

<PageTitle>Sobre</PageTitle>
<div>
	<img src="image/Banner-sobre.jpg"
		 alt="Imagem responsiva" width="100%" height="500px" />
</div>

<br />

<br />
<br />
<div class="container">
	<div class="row">
		<div class="col-md-12">
			<h2 class="text-center">Título</h2>

			<img class="bd-placeholder-img rounded mx-auto d-block" width="300" height="300"
				 src="image/Banner-sobre.jpg" alt="Imagem sobre a história"
				 preserveAspectRatio="xMidYMid slice" focusable="false" role="img" />
			<br /><br />
			@if (About != null && About.Count > 0)
			{
				<p>@About[0].descricao</p>
			}
			else
			{
				<p>Sem Info</p>
			}
			
			<hr style="border: 5px solid #483D8B;
						border-radius: 5px;">
		</div>
	</div>

</div> <!-- /container -->
<br />
<br />

@code {
	[Parameter] public List<SobreViewModel> About { get; set; }

	// HttpClient client = new HttpClient();
	// var response = client.GetAsync(reqUrl);
	// if (response.IsSuccessStatusCode)
	// 		ResultStr = await response.Content.ReadAsStringAsync();

	protected override async Task OnInitializedAsync()
	{
		var url = "https://localhost:7048/api/sobres";
		var teste = await http.GetFromJsonAsync<List<SobreViewModel>>(url);
		About = teste;
	}
}
